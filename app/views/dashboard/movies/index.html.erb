<div class="container mx-auto px-6 py-10 space-y-10">

  <!-- Seção: Importar CSV -->
  <div class="bg-white shadow-md rounded-lg p-6">
    <h1 class="text-2xl font-bold mb-4 text-gray-800">Importar filmes via CSV</h1>

    <%= form_with model: @import, url: dashboard_imports_path, local: true, multipart: true, class: "flex flex-col sm:flex-row items-center gap-4" do |f| %>
      <div class="flex-1">
        <%= f.file_field :file, accept: ".csv", class: "border border-gray-300 rounded-lg px-4 py-2 w-full focus:ring-1 focus:ring-blue-400 focus:border-blue-400" %>
      </div>
      <%= f.submit "Enviar", class: "bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-200" %>
    <% end %>
  </div>

  <!-- Seção: Cabeçalho e Botão Novo Filme -->
  <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
    <h1 class="text-4xl font-bold text-gray-800"><%= t('app.my_movies') %></h1>
    <%= link_to t('app.new_movie'), new_dashboard_movie_path,
                class: "bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg shadow transition duration-200" %>
  </div>

  <!-- Seção: Lista de Filmes -->
  <div class="bg-white shadow-md rounded-lg p-6">
    <h2 class="text-2xl font-semibold mb-4 text-gray-800">Filmes cadastrados</h2>

    <% if @movies.any? %>
      <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Título</th>
              <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Ano</th>
              <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Diretor</th>
              <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Ações</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            <% @movies.each do |movie| %>
              <tr>
                <td class="px-4 py-2"><%= movie.title %></td>
                <td class="px-4 py-2"><%= movie.release_year %></td>
                <td class="px-4 py-2"><%= movie.director %></td>
                <td class="px-4 py-2 flex gap-2">
                  <%= link_to t('app.edit'), edit_dashboard_movie_path(movie),
                      class: "bg-yellow-400 hover:bg-yellow-500 text-white px-3 py-1 rounded-lg text-sm" %>
                  <%= button_to t('app.delete'), dashboard_movie_path(movie),
                      method: :delete,
                      data: { confirm: t('app.confirm_delete') },
                      class: "bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-lg text-sm" %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    <% else %>
      <p class="text-gray-500">Nenhum filme cadastrado ainda.</p>
    <% end %>
  </div>

</div>
